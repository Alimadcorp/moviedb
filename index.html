<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alimad Movie Search Engine</title>
    <link rel="icon" href="https://www.shutterstock.com/image-vector/film-clapper-3d-cartoon-icon-600nw-2239181291.jpg">
    <meta property="og:title" content="Alimad MovieDB" />
    <meta property="og:description" content="Search and view movies from a huge database!" />
    <meta property="og:image" content="https://www.shutterstock.com/image-vector/film-clapper-3d-cartoon-icon-600nw-2239181291.jpg" />
    <style>
        button,input,select{color:#fff;margin:5px;font-size:16px}.movie h3,button,input,select{font-size:16px}.movie,.movie h3,button{cursor:pointer}.movie,.rating-slider{overflow:hidden;position:relative}#loading,.movie,.rating-title{text-align:center}body{-webkit-tap-highlight-color:transparent;font-family:Arial,sans-serif;background-color:#121212;color:#fff;margin:0;padding:20px}.movie,input,select{background-color:#222}.movie,button,input,select{padding:10px}#search-container{align-items:center;justify-content:center;padding:5px;margin-bottom:20px}input{width:98.3%;border:1px solid #333;border-radius:5px}#list,.movie,.rating-slider,button,select{width:100%}select{border:1px solid #333;border-radius:5px}button{background-color:#007bff;border:none;border-radius:5px;transition:background-color .3s}button:hover{background-color:#0056b3}#list{display:flex;flex-wrap:wrap;gap:15px;justify-content:center}.movie{display:flex;flex-direction:column;align-items:center;border:1px solid #333;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,.5);transition:transform .3s;perspective:1000px}.movie:hover{transform:scale(1.05)}.movie img{width:90%;height:200px;object-fit:cover;border-radius:5px}.movie h3{margin:10px 0 5px;color:#007bff;text-decoration:underline}.movie h3:hover{color:#0056b3}.movie p{margin:0;font-size:14px;color:#aaa}.rating-slider-container{width:100%;text-align:center;position:relative;margin-top:10px}.rating-slider{height:4px;background-color:#444;border-radius:5px}.rating-fill{height:100%;background-color:#28a745;width:0%;transition:width 2s}.rating-labels{display:flex;justify-content:space-between;margin-top:1px;font-size:12px;color:#aaa}.rating-title{display:flex;justify-content:center;margin-top:5px;font-size:12px;color:#aaa}#loading{display:none;margin-bottom:20px}#loading img{width:50px;height:50px}.movie-details{background-color:#000a;backdrop-filter:blur(10px);padding:10px;z-index:9999;border-radius:8px;font-size:14px;color:#fff;text-align:left;opacity:0;transform:rotateY(90deg);transition:opacity .3s,transform .3s;position:absolute;left:0;right:0;top:0;bottom:0;overflow-x:hidden;overflow-y:auto}.rn{font-size:10px}::-webkit-scrollbar{width:6px;height:5px}::-webkit-scrollbar-track{background:#fff3}::-webkit-scrollbar-thumb{background:#8888;border-radius:3px}::-webkit-scrollbar-thumb:hover{background:#5558}.movie.open .movie-details{opacity:1;transform:rotateY(0);transform:scaleX(-1)}.movie.open{transform:scaleX(-1)}
    </style>
  </head>
  <body>
    <div id="search-container">
      <input type="text" id="search" placeholder="Search for movies..." />
      <select id="type">
        <br />
        <option value="">All</option>
        <option value="movie">Movie</option>
        <option value="series">Series</option>
        <option value="episode">Episode</option>
        <option value="game">Game</option></select
      ><br />
      <button id="searchBtn">Search</button>
    </div>
    <div id="loading">
      <img src="https://i.gifer.com/ZZ5H.gif" alt="Loading..." />
    </div>
    <div id="listdet"></div>
    <div id="list"></div>
    <script>
        let currentPage=1,totalResults=0,currentQuery="",currentType="",isFetching=!1;async function searchMovies(){if(document.getElementById("list").innerHTML="",document.getElementById("listdet").innerHTML="",currentQuery=document.getElementById("search").value.trim(),currentType=document.getElementById("type").value,currentQuery.length<1)return alert("Please enter at least 1 character.");totalResults=0,currentPage=1,fetchMovies()}async function fetchMovies(){if(isFetching)return;isFetching=!0;let e=document.getElementById("loading");e.style.display="block",fetch(`https://www.omdbapi.com/?s=${currentQuery}&type=${currentType}&page=${currentPage}&apikey=49d73553`).then(e=>e.json()).then(t=>{e.style.display="none",isFetching=!1,"True"===t.Response?(1===currentPage&&(totalResults=parseInt(t.totalResults)||0),displayMovies(t.Search)):1===currentPage&&(document.getElementById("list").innerHTML=`<p>No results found for "${currentQuery}"</p>`)}).catch(t=>{e.style.display="none",isFetching=!1,console.error("Error fetching data:",t)})}async function displayMovies(e){document.getElementById("listdet").innerHTML=`<p>${Math.min(10*currentPage,totalResults)} of ${totalResults} results loaded for "${currentQuery}"</p>`;let t=document.getElementById("list");e.forEach(async e=>{let n=document.createElement("div");n.classList.add("movie"),n.innerHTML=`<img src="${e.Poster}" alt="${e.Title}"><h3 class="titl">${e.Title}</h3><p>${e.Year}</p><p>${e.Type}</p><p class="loading-text">Loading details...</p>`,t.appendChild(n);let r=await fetchMovieDetails(e.imdbID),s=n.querySelector(".loading-text");s&&s.remove(),r.Ratings.length>0&&r.Ratings.forEach(e=>{let t=e.Value.includes("%")?P2F(e.Value):R2F(e.Value);t>11&&(t/=10);let r=`<div class="rating-slider-container"><div class="rating-slider"><div class="rating-fill"></div></div><div class="rating-labels"><span>0</span><span class="rn">Rating</span><span>10</span></div></div>`,s=document.createElement("div");s.innerHTML=r,s.style.width="100%",n.appendChild(s),setTimeout(()=>{s.querySelector(".rating-fill").style.width=`${10*t}%`,s.querySelector(".rn").innerHTML=e.Source},10)});let l=document.createElement("div");l.classList.add("movie-details"),l.innerHTML=`<p class="loading-text">Loading details...</p><p><strong>Release Date:</strong> ${r.Released||"N/A"}</p><p><strong>Plot:</strong> ${r.Plot||"N/A"}</p><p><strong>Genre:</strong> ${r.Genre||"N/A"}</p><p><strong>Actors:</strong> ${r.Actors||"N/A"}</p>`,n.appendChild(l),setTimeout(()=>{let e=l.querySelector(".loading-text");e&&e.remove()},1e3),n.onclick=function(){n.classList.toggle("open")},n.querySelector(".titl").onclick=function(){window.open("https://www.imdb.com/title/"+e.imdbID,"_blank")}})}function R2F(e){let t=e.split("/");return 2===t.length?parseFloat(t[0]):0}function P2F(e){return parseFloat(e.replace("%",""))/10}async function fetchMovieDetails(e){let t=await fetch(`https://www.omdbapi.com/?i=${e}&apikey=49d73553`),n=await t.json();return n}document.getElementById("searchBtn").addEventListener("click",()=>{currentPage=1,searchMovies()}),document.getElementById("search").addEventListener("keydown",e=>{"Enter"===e.key&&(currentPage=1,searchMovies())}),window.addEventListener("scroll",()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-100&&10*currentPage<totalResults&&(currentPage++,fetchMovies())});
    </script>
  </body>
</html>
